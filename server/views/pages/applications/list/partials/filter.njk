{%- set filterOptionsHtml %}
  {{ govukInput({
    id: "prisoner",
    name: "prisoner",
    label: {
      text: "Prisoner name or number",
      classes: "govuk-label--s"
    }
  }) }}

  {{ govukCheckboxes({
    idPrefix: "department",
    name: "department",
    classes: "govuk-checkboxes--small",
    fieldset: {
      legend: {
        text: "Department",
        classes: "govuk-fieldset__legend--s"
      }
    },
    items: departments
  }) }}

  {{ govukCheckboxes({
    idPrefix: "type",
    name: "type",
    classes: "govuk-checkboxes--small",
    fieldset: {
      legend: {
        text: "Application type",
        classes: "govuk-fieldset__legend--s"
      }
    },
    items: appTypes
  }) }}
{% endset -%}

<form novalidate>
{{ mojFilter({
  heading: { text: "Filter" },
  submit: {
    attributes: { "data-test-id": "submit-button" }
  },
  selectedFilters: {
    heading: { text: "Selected filters" },
    clearLink: { text: "Clear filters", href: "/applications" },
    categories: [
      {
        heading: { text: "Department" },
        items: selectedFilters.departments
      },
      {
        heading: { text: "Application type" },
        items: selectedFilters.appTypes
      }
    ]
  },
  optionsHtml: filterOptionsHtml
}) }}
</form>
